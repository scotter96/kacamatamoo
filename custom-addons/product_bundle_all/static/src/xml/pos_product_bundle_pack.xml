<?xml version="1.0" encoding="UTF-8"?>
<templates id="pos_product_bundle_pack_template" inherit_id="point_of_sale.template" xml:space="preserve">

    <!-- Product Card -->
    <t t-name="Product" t-inherit="point_of_sale.ProductCard" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[hasclass('product-content')]" position="after">
            <t t-if="props.product and props.product.is_pack">
                <div class="product-bundle-pack"
                     style="box-sizing: border-box;height: 25px;background: red;color: #fff;padding: 5px;font-size: 14px;">
                    Pack Product
                </div>
            </t>
        </xpath>
    </t>

    <!-- Orderline -->
    <t t-name="Orderlineextend" t-inherit="point_of_sale.Orderline" t-inherit-mode="extension" owl="1">
        <xpath expr="//ul[hasclass('info-list')]" position="after">
            <t t-if="props.line.get_product_bundle_pack_data and props.line.get_product_bundle_pack_data.length">
                <div style="border-top: 1px solid teal;"></div>
                <ul class="info-list-bundles" style="padding-left: 20px;">
                    <t t-foreach="props.line.get_product_bundle_pack_data" t-as="orderline" t-key="orderline.id">
                        <div class="d-flex justify-content-between mt-2">
                            <div class="product-name-bundle-item d-inline-block flex-grow-1 fw-bolder">
                                <t t-esc="orderline.product_name"/>
                            </div>
                            <div class="product-price-bundle-item d-inline-block fw-bolder text-end">
                                <t t-if="orderline.subtotal > 0">
                                    <t t-esc="orderline.subtotal_formatted"/>
                                </t>
                                <t t-else="">
                                    <em class="me-1 fw-bolder text-danger">
                                        Free
                                    </em>
                                </t>
                            </div>
                        </div>
                        <li class="info" style="padding-left: 10px;">
                            <em class="me-1 fw-bolder">
                                <t t-esc="orderline.qty_uom"/>
                            </em>
                            <t t-esc="orderline.uom_id.display_name"/>
                            <t t-if="orderline.price > 0">
                                x
                                <t t-esc="orderline.price_formatted"/>
                                /
                                <t t-esc="orderline.uom_id.display_name"/>
                            </t>
                        </li>
                    </t>
                </ul>
            </t>
        </xpath>
    </t>

</templates>
